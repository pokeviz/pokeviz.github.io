require(['/lib/js/Pokevis.js', '/lib/js/PokevisUI.js', '/lib/d3/d3.v3.min.js'], function(Pokevis, PokevisUI, d3) {
	var data = [{"name":"0","children":[{"name":"normal","children":[{"name":"normal","size":16},{"name":"fighting","size":0},{"name":"flying","size":8},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fighting","children":[{"name":"normal","size":0},{"name":"fighting","size":7},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"flying","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"poison","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":10},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ground","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":6},{"name":"rock","size":2},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"rock","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":4},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":4},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"bug","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":5},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":3},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ghost","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":3},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"steel","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fire","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":10},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"water","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":1},{"name":"poison","size":2},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":18},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":3},{"name":"ice","size":3},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"grass","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":9},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":1},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"electric","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":8},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"psychic","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":8},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ice","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":1},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dragon","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dark","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fairy","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]}]},{"name":"1","children":[{"name":"normal","children":[{"name":"normal","size":32},{"name":"fighting","size":0},{"name":"flying","size":11},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":1},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fighting","children":[{"name":"normal","size":0},{"name":"fighting","size":9},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"flying","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"poison","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":3},{"name":"poison","size":10},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ground","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":8},{"name":"rock","size":2},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"rock","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":6},{"name":"rock","size":1},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":4},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"bug","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":5},{"name":"poison","size":7},{"name":"ground","size":0},{"name":"rock","size":1},{"name":"bug","size":4},{"name":"ghost","size":0},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ghost","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":3},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"steel","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":1},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fire","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":3},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":1},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":16},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"water","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":2},{"name":"poison","size":3},{"name":"ground","size":2},{"name":"rock","size":1},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":27},{"name":"grass","size":0},{"name":"electric","size":2},{"name":"psychic","size":4},{"name":"ice","size":3},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"grass","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":3},{"name":"poison","size":9},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":8},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"electric","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":12},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"psychic","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":3},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":1},{"name":"electric","size":0},{"name":"psychic","size":11},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ice","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dragon","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dark","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":2},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":1},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"fairy","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]}]},{"name":"2","children":[{"name":"normal","children":[{"name":"normal","size":47},{"name":"fighting","size":0},{"name":"flying","size":14},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":1},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fighting","children":[{"name":"normal","size":0},{"name":"fighting","size":11},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"flying","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"poison","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":3},{"name":"poison","size":13},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ground","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":10},{"name":"rock","size":2},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"rock","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":6},{"name":"rock","size":3},{"name":"bug","size":2},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":4},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"bug","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":8},{"name":"poison","size":8},{"name":"ground","size":1},{"name":"rock","size":1},{"name":"bug","size":9},{"name":"ghost","size":1},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":1},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ghost","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":3},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":5},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"steel","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":1},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":4},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fire","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":3},{"name":"poison","size":0},{"name":"ground","size":2},{"name":"rock","size":1},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":19},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"water","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":4},{"name":"poison","size":3},{"name":"ground","size":6},{"name":"rock","size":2},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":39},{"name":"grass","size":3},{"name":"electric","size":2},{"name":"psychic","size":4},{"name":"ice","size":3},{"name":"dragon","size":1},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"grass","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":4},{"name":"poison","size":10},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":13},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"electric","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":16},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"psychic","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":3},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":1},{"name":"electric","size":0},{"name":"psychic","size":22},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ice","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":3},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":4},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dragon","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":4},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":4},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dark","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":0},{"name":"fire","size":2},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":1},{"name":"dragon","size":0},{"name":"dark","size":4},{"name":"fairy","size":0}]},{"name":"fairy","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]}]},{"name":"3","children":[{"name":"normal","children":[{"name":"normal","size":59},{"name":"fighting","size":0},{"name":"flying","size":19},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":1},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":1},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fighting","children":[{"name":"normal","size":0},{"name":"fighting","size":12},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":1},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"flying","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"poison","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":3},{"name":"poison","size":13},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":1},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"ground","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":12},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"rock","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":6},{"name":"rock","size":6},{"name":"bug","size":2},{"name":"ghost","size":0},{"name":"steel","size":3},{"name":"fire","size":0},{"name":"water","size":4},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"bug","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":12},{"name":"poison","size":8},{"name":"ground","size":2},{"name":"rock","size":1},{"name":"bug","size":12},{"name":"ghost","size":1},{"name":"steel","size":3},{"name":"fire","size":0},{"name":"water","size":1},{"name":"grass","size":3},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ghost","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":3},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":7},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"steel","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":1},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":6},{"name":"ice","size":0},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fire","children":[{"name":"normal","size":0},{"name":"fighting","size":4},{"name":"flying","size":3},{"name":"poison","size":0},{"name":"ground","size":2},{"name":"rock","size":1},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":1},{"name":"fire","size":21},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"water","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":5},{"name":"poison","size":3},{"name":"ground","size":7},{"name":"rock","size":2},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":1},{"name":"fire","size":0},{"name":"water","size":48},{"name":"grass","size":3},{"name":"electric","size":2},{"name":"psychic","size":4},{"name":"ice","size":3},{"name":"dragon","size":2},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"grass","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":5},{"name":"poison","size":12},{"name":"ground","size":1},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":21},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":2},{"name":"dragon","size":0},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"electric","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":6},{"name":"steel","size":3},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":21},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"psychic","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":3},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":1},{"name":"electric","size":0},{"name":"psychic","size":28},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ice","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":3},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":3},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":5},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dragon","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":4},{"name":"poison","size":0},{"name":"ground","size":3},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":4},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dark","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":0},{"name":"fire","size":2},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":2},{"name":"dragon","size":0},{"name":"dark","size":5},{"name":"fairy","size":0}]},{"name":"fairy","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]}]},{"name":"4","children":[{"name":"normal","children":[{"name":"normal","size":68},{"name":"fighting","size":1},{"name":"flying","size":24},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":1},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fighting","children":[{"name":"normal","size":0},{"name":"fighting","size":19},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":1},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"flying","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"poison","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":3},{"name":"poison","size":15},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":1},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"ground","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":4},{"name":"poison","size":0},{"name":"ground","size":13},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":2},{"name":"steel","size":1},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":1},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"rock","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":3},{"name":"poison","size":0},{"name":"ground","size":6},{"name":"rock","size":9},{"name":"bug","size":2},{"name":"ghost","size":0},{"name":"steel","size":3},{"name":"fire","size":0},{"name":"water","size":4},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"bug","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":12},{"name":"poison","size":11},{"name":"ground","size":2},{"name":"rock","size":3},{"name":"bug","size":15},{"name":"ghost","size":1},{"name":"steel","size":6},{"name":"fire","size":2},{"name":"water","size":1},{"name":"grass","size":6},{"name":"electric","size":2},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ghost","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":3},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":9},{"name":"steel","size":0},{"name":"fire","size":3},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"steel","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":1},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":5},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":6},{"name":"ice","size":0},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"fire","children":[{"name":"normal","size":0},{"name":"fighting","size":6},{"name":"flying","size":3},{"name":"poison","size":0},{"name":"ground","size":2},{"name":"rock","size":1},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":1},{"name":"fire","size":27},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":1},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"water","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":7},{"name":"poison","size":3},{"name":"ground","size":9},{"name":"rock","size":4},{"name":"bug","size":0},{"name":"ghost","size":2},{"name":"steel","size":1},{"name":"fire","size":0},{"name":"water","size":56},{"name":"grass","size":3},{"name":"electric","size":2},{"name":"psychic","size":4},{"name":"ice","size":3},{"name":"dragon","size":2},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"grass","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":5},{"name":"poison","size":14},{"name":"ground","size":1},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":31},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":2},{"name":"dragon","size":0},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"electric","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":5},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":3},{"name":"fire","size":1},{"name":"water","size":1},{"name":"grass","size":1},{"name":"electric","size":26},{"name":"psychic","size":0},{"name":"ice","size":1},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"psychic","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":6},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":1},{"name":"water","size":0},{"name":"grass","size":1},{"name":"electric","size":0},{"name":"psychic","size":38},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ice","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":3},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":3},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":11},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dragon","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":4},{"name":"poison","size":0},{"name":"ground","size":3},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":1},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":1},{"name":"psychic","size":2},{"name":"ice","size":3},{"name":"dragon","size":8},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dark","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":4},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":2},{"name":"fire","size":2},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":2},{"name":"dragon","size":3},{"name":"dark","size":9},{"name":"fairy","size":0}]},{"name":"fairy","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":0},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]}]},{"name":"5","children":[{"name":"normal","children":[{"name":"normal","size":61},{"name":"fighting","size":2},{"name":"flying","size":24},{"name":"poison","size":0},{"name":"ground","size":1},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":1},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":5}]},{"name":"fighting","children":[{"name":"normal","size":0},{"name":"fighting","size":20},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":3},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"flying","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"poison","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":3},{"name":"poison","size":15},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":1},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":1},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":1},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"ground","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":4},{"name":"poison","size":0},{"name":"ground","size":13},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":2},{"name":"steel","size":1},{"name":"fire","size":1},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":1},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"rock","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":4},{"name":"poison","size":0},{"name":"ground","size":6},{"name":"rock","size":9},{"name":"bug","size":2},{"name":"ghost","size":0},{"name":"steel","size":3},{"name":"fire","size":0},{"name":"water","size":6},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":2},{"name":"dragon","size":2},{"name":"dark","size":2},{"name":"fairy","size":3}]},{"name":"bug","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":14},{"name":"poison","size":12},{"name":"ground","size":2},{"name":"rock","size":3},{"name":"bug","size":17},{"name":"ghost","size":1},{"name":"steel","size":7},{"name":"fire","size":2},{"name":"water","size":1},{"name":"grass","size":6},{"name":"electric","size":2},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"ghost","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":4},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":10},{"name":"steel","size":0},{"name":"fire","size":3},{"name":"water","size":0},{"name":"grass","size":4},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"steel","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":2},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":4},{"name":"steel","size":5},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":7},{"name":"ice","size":0},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":3}]},{"name":"fire","children":[{"name":"normal","size":2},{"name":"fighting","size":7},{"name":"flying","size":6},{"name":"poison","size":0},{"name":"ground","size":3},{"name":"rock","size":1},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":1},{"name":"fire","size":29},{"name":"water","size":1},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"water","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":7},{"name":"poison","size":3},{"name":"ground","size":10},{"name":"rock","size":4},{"name":"bug","size":0},{"name":"ghost","size":2},{"name":"steel","size":1},{"name":"fire","size":0},{"name":"water","size":60},{"name":"grass","size":3},{"name":"electric","size":2},{"name":"psychic","size":5},{"name":"ice","size":3},{"name":"dragon","size":2},{"name":"dark","size":6},{"name":"fairy","size":2}]},{"name":"grass","children":[{"name":"normal","size":0},{"name":"fighting","size":3},{"name":"flying","size":5},{"name":"poison","size":15},{"name":"ground","size":1},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":33},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":3},{"name":"dragon","size":1},{"name":"dark","size":3},{"name":"fairy","size":2}]},{"name":"electric","children":[{"name":"normal","size":2},{"name":"fighting","size":0},{"name":"flying","size":5},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":3},{"name":"fire","size":1},{"name":"water","size":1},{"name":"grass","size":1},{"name":"electric","size":27},{"name":"psychic","size":0},{"name":"ice","size":1},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":1}]},{"name":"psychic","children":[{"name":"normal","size":0},{"name":"fighting","size":3},{"name":"flying","size":6},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":0},{"name":"fire","size":1},{"name":"water","size":0},{"name":"grass","size":1},{"name":"electric","size":0},{"name":"psychic","size":38},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":6}]},{"name":"ice","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":3},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":3},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":14},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"dragon","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":6},{"name":"poison","size":0},{"name":"ground","size":5},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":1},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":1},{"name":"psychic","size":4},{"name":"ice","size":3},{"name":"dragon","size":11},{"name":"dark","size":0},{"name":"fairy","size":1}]},{"name":"dark","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":5},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":2},{"name":"steel","size":2},{"name":"fire","size":3},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":2},{"name":"dragon","size":3},{"name":"dark","size":10},{"name":"fairy","size":0}]},{"name":"fairy","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":15}]}]},{"name":"6","children":[{"name":"normal","children":[{"name":"normal","size":66},{"name":"fighting","size":4},{"name":"flying","size":27},{"name":"poison","size":0},{"name":"ground","size":1},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":1},{"name":"grass","size":2},{"name":"electric","size":0},{"name":"psychic","size":3},{"name":"ice","size":0},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":5}]},{"name":"fighting","children":[{"name":"normal","size":0},{"name":"fighting","size":22},{"name":"flying","size":1},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":3},{"name":"ice","size":1},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"flying","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":0},{"name":"fairy","size":0}]},{"name":"poison","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":3},{"name":"poison","size":15},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":1},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":2},{"name":"water","size":3},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":1},{"name":"dark","size":5},{"name":"fairy","size":0}]},{"name":"ground","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":4},{"name":"poison","size":0},{"name":"ground","size":15},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":2},{"name":"steel","size":3},{"name":"fire","size":1},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":1},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":3},{"name":"fairy","size":0}]},{"name":"rock","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":6},{"name":"poison","size":1},{"name":"ground","size":6},{"name":"rock","size":12},{"name":"bug","size":2},{"name":"ghost","size":0},{"name":"steel","size":3},{"name":"fire","size":0},{"name":"water","size":6},{"name":"grass","size":2},{"name":"electric","size":3},{"name":"psychic","size":2},{"name":"ice","size":2},{"name":"dragon","size":2},{"name":"dark","size":2},{"name":"fairy","size":3}]},{"name":"bug","children":[{"name":"normal","size":0},{"name":"fighting","size":4},{"name":"flying","size":14},{"name":"poison","size":12},{"name":"ground","size":2},{"name":"rock","size":3},{"name":"bug","size":18},{"name":"ghost","size":1},{"name":"steel","size":7},{"name":"fire","size":2},{"name":"water","size":3},{"name":"grass","size":6},{"name":"electric","size":4},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":2}]},{"name":"ghost","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":3},{"name":"poison","size":4},{"name":"ground","size":2},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":10},{"name":"steel","size":0},{"name":"fire","size":3},{"name":"water","size":0},{"name":"grass","size":5},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":1},{"name":"fairy","size":1}]},{"name":"steel","children":[{"name":"normal","size":0},{"name":"fighting","size":1},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":2},{"name":"rock","size":3},{"name":"bug","size":0},{"name":"ghost","size":4},{"name":"steel","size":5},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":7},{"name":"ice","size":0},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":4}]},{"name":"fire","children":[{"name":"normal","size":2},{"name":"fighting","size":7},{"name":"flying","size":7},{"name":"poison","size":0},{"name":"ground","size":3},{"name":"rock","size":1},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":1},{"name":"fire","size":31},{"name":"water","size":1},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":0},{"name":"dragon","size":2},{"name":"dark","size":1},{"name":"fairy","size":0}]},{"name":"water","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":7},{"name":"poison","size":3},{"name":"ground","size":10},{"name":"rock","size":4},{"name":"bug","size":2},{"name":"ghost","size":2},{"name":"steel","size":1},{"name":"fire","size":0},{"name":"water","size":65},{"name":"grass","size":3},{"name":"electric","size":2},{"name":"psychic","size":6},{"name":"ice","size":3},{"name":"dragon","size":2},{"name":"dark","size":7},{"name":"fairy","size":4}]},{"name":"grass","children":[{"name":"normal","size":0},{"name":"fighting","size":3},{"name":"flying","size":7},{"name":"poison","size":15},{"name":"ground","size":1},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":3},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":38},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":3},{"name":"dragon","size":2},{"name":"dark","size":3},{"name":"fairy","size":5}]},{"name":"electric","children":[{"name":"normal","size":2},{"name":"fighting","size":0},{"name":"flying","size":6},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":4},{"name":"fire","size":1},{"name":"water","size":1},{"name":"grass","size":1},{"name":"electric","size":28},{"name":"psychic","size":1},{"name":"ice","size":1},{"name":"dragon","size":1},{"name":"dark","size":0},{"name":"fairy","size":2}]},{"name":"psychic","children":[{"name":"normal","size":0},{"name":"fighting","size":3},{"name":"flying","size":7},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":2},{"name":"steel","size":1},{"name":"fire","size":1},{"name":"water","size":0},{"name":"grass","size":1},{"name":"electric","size":0},{"name":"psychic","size":41},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":1},{"name":"fairy","size":7}]},{"name":"ice","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":3},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":1},{"name":"steel","size":2},{"name":"fire","size":0},{"name":"water","size":3},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":15},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":1}]},{"name":"dragon","children":[{"name":"normal","size":0},{"name":"fighting","size":2},{"name":"flying","size":6},{"name":"poison","size":0},{"name":"ground","size":7},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":1},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":1},{"name":"psychic","size":4},{"name":"ice","size":3},{"name":"dragon","size":12},{"name":"dark","size":0},{"name":"fairy","size":1}]},{"name":"dark","children":[{"name":"normal","size":2},{"name":"fighting","size":2},{"name":"flying","size":5},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":2},{"name":"steel","size":2},{"name":"fire","size":3},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":2},{"name":"ice","size":2},{"name":"dragon","size":4},{"name":"dark","size":12},{"name":"fairy","size":0}]},{"name":"fairy","children":[{"name":"normal","size":0},{"name":"fighting","size":0},{"name":"flying","size":2},{"name":"poison","size":0},{"name":"ground","size":0},{"name":"rock","size":0},{"name":"bug","size":0},{"name":"ghost","size":0},{"name":"steel","size":0},{"name":"fire","size":0},{"name":"water","size":0},{"name":"grass","size":0},{"name":"electric","size":0},{"name":"psychic","size":0},{"name":"ice","size":0},{"name":"dragon","size":0},{"name":"dark","size":0},{"name":"fairy","size":16}]}]}],
		pokePieDiv = document.getElementById('pokeChart2'),
		generationForm = document.getElementById('generationOption'),
		generationOption = document.getElementsByName('generationOption'),
		generation = Number(PokevisUI.getCheckedRadio(generationOption).value),
		dataset = data[generation]; // Initial data

	var _onChangeCreatePieChart = function() {
		// Cannot remove if its there is nothing (error)
		// Fixed with while
		while (pokePieDiv.firstChild) {
		    pokePieDiv.removeChild(pokePieDiv.firstChild);
		}

		// Create new dataset everytime we create new pie chart
		generation = Number(PokevisUI.getCheckedRadio(generationOption).value);
		dataset = data[generation];
		createPieChart(dataset);
	}

	var createPieChart = function(root) {
		var margin = {top: 250, right: 380, bottom: 250, left: 380},
		    radius = Math.min(margin.top, margin.right, margin.bottom, margin.left);

		var hue = d3.scale.ordinal()
				  .domain(Pokevis.types)
				  .range(Pokevis.colors);

		var luminance = d3.scale.sqrt()
		    .domain([0, 1e3])
		    .clamp(true)
		    .range([95, 30]);

		var svg = d3.select('#pokeChart2')
			.append('svg')
			.attr('id', 'pokePie')
		    .attr('width', margin.left + margin.right)
		    .attr('height', margin.top + margin.bottom)
		  	.append('g')
		    .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

		var partition = d3.layout.partition()
		    .sort(function(a, b) { return d3.ascending(a.name, b.name); })
		    .size([2 * Math.PI, radius]);

		var arc = d3.svg.arc()
		    .startAngle(function(d) { return d.x; })
		    .endAngle(function(d) { return d.x + d.dx ; })
		    .padAngle(.01)
		    .padRadius(radius / 3)
		    .innerRadius(function(d) { return radius / 3 * d.depth; })
		    .outerRadius(function(d) { return radius / 3 * (d.depth + 1) - 1; });

		
			// Compute the initial layout on the entire tree to sum sizes.
			// Also compute the full name and fill color for each node,
			// and stash the children so they can be restored as we descend.
		partition.value(function(d) { return d.size; })
				 .nodes(root)
				 .forEach(function(d) {
					d._children = d.children;
					d.sum = d.value;
					d.key = key(d);
					d.fill = fill(d);
					// The level above
					if (d.size == null) {
						d.size = 0;
						for (var i = 0, length = d.children.length; i < length; i++) {
							d.size = d.size + d.children[i].size;
						}
					};
		});

	  	// Now redefine the value function to use the previously-computed sum.
		partition.children(function(d, depth) { 
			return depth < 2 ? d._children : null; 
		}).value(function(d) { 
			return d.sum; 
		});

		var center = svg.append('circle')
				.attr('r', radius / 3)
				.on('click', zoomOut);

		// Tooltip for center zoom
		center.append('title')
			  .text('Click here to zoom out!');


		// Add tooltip to every pie slices
		var tooltip = d3.select('#pokeChart2')
						.append('div')
						.attr('class', 'tooltip');

		tooltip.append('div')
			   .attr('class', 'label');

		tooltip.append('div')
			   .attr('class', 'count');

		tooltip.append('div')
			   .attr('class', 'percent');


		var path = svg.selectAll('path')
				.data(partition.nodes(root).slice(1))
				.enter().append('path')
				.attr('d', arc)
				.style('fill', function(d) { return d.fill; })
				.each(function(d) { this._current = updateArc(d); })
				.on('click', zoomIn)
				.on('mouseover', tooltipShow)
				.on('mouseout', tooltipRemove)
				.on('mousemove', tooltipFollow);

		var total = 0;
		var temp = root['children'];
		for (var i = 0, l1 = temp.length; i < l1; i++) {
			total = total + temp[i].size;	
		};

		// ----- //
		/*
		Listeners
		*/
		// ----- //

		function tooltipRemove(d) {
			tooltip.style('display', 'none');
		}

		function tooltipFollow(d) {
			tooltip.style('top', (d3.event.layerY + 10) + 'px')
				   .style('left', (d3.event.layerX + 10) + 'px')
		}

		function tooltipShow(d) {
			// The level above
			if (d.size == null) {
				d.size = 0;
				for (var i = 0, length = d.children.length; i < length; i++) {
					d.size = d.size + d.children[i].size;
				}
			}

			var types = d.key.split('.');
			// Squeeze type
			if (types.length > 1 && types[0] == types[1]) {
				types = [types[0]];
			}

			var percent = Math.round(1000 * d.size / total) / 10;

			// Empty out previous label
			tooltip.select('.label div').remove()

			tooltip.select('.label')
				   .append(function(d) {
				   		var div = document.createElement('div');
				   		// for each key, append img to div
				   		for (var i = 0, length = types.length; i < length; i++) {
				   			var img = document.createElement('img');	
				   			img.src = '/assets/types/' + types[i] + '.gif';
				   			div.appendChild(img);
				   		}
				   		return div;
				   });

			tooltip.select('.count').html(d.size);
			tooltip.select('.percent').html(percent + '%');
			tooltip.style('display', 'block'); //??
		};

		function zoomIn(p) {
			if (p.depth > 1) p = p.parent;
			if (!p.children) return;
			zoom(p, p);
		};

		function zoomOut(p) {
			if (!p.parent) return;
			zoom(p.parent, p);
		};

		// Zoom to the specified new root.
		function zoom(root, p) {
			if (document.documentElement.__transition__) return;

			// Rescale outside angles to match the new layout.
			var enterArc,
			    exitArc,
			    outsideAngle = d3.scale.linear().domain([0, 2 * Math.PI]);

			function insideArc(d) {
			  return p.key > d.key
			      ? {depth: d.depth - 1, x: 0, dx: 0} : p.key < d.key
			      ? {depth: d.depth - 1, x: 2 * Math.PI, dx: 0}
			      : {depth: 0, x: 0, dx: 2 * Math.PI};
			};

			function outsideArc(d) {
				return {depth: d.depth + 1, 
						x: outsideAngle(d.x), 
						dx: outsideAngle(d.x + d.dx) - outsideAngle(d.x)};
			};

			center.datum(root);

			// When zooming in, arcs enter from the outside and exit to the inside.
			// Entering outside arcs start from the old layout.
			if (root === p) enterArc = outsideArc, exitArc = insideArc, outsideAngle.range([p.x, p.x + p.dx]);

			path = path.data(partition.nodes(root).slice(1), function(d) { return d.key; });

			// When zooming out, arcs enter from the inside and exit to the outside.
			// Exiting outside arcs transition to the new layout.
			if (root !== p) enterArc = insideArc, exitArc = outsideArc, outsideAngle.range([p.x, p.x + p.dx]);

			d3.transition().duration(d3.event.altKey ? 7500 : 750).each(function() {
				path.exit().transition()
					.style('fill-opacity', function(d) { return d.depth === 1 + (root === p) ? 1 : 0; })
					.attrTween('d', function(d) { return arcTween.call(this, exitArc(d)); })
					.remove();

				path.enter().append('path')
					.style('fill-opacity', function(d) { return d.depth === 2 - (root === p) ? 1 : 0; })
					.style('fill', function(d) { return d.fill; })
					.on('click', zoomIn)
					.on('mouseover', tooltipShow)
					.on('mouseout', tooltipRemove)
					.on('mousemove', tooltipFollow)
					.each(function(d) { this._current = enterArc(d); });

				path.transition()
					.style('fill-opacity', 1)
					.attrTween('d', function(d) { return arcTween.call(this, updateArc(d)); });
			});
		};

		// Key example: 'normal.flying'
		function key(d) {
			var k = [], p = d;
			while (p.depth) k.push(p.name), p = p.parent;
			return k.reverse().join('.');
		}

		function fill(d) {
			var c, p = d;

			var check = p.key.split('.');
			// If its a combination, then combine the color
			if (check.length > 1) {
				var c1 = Pokevis.hexToRgb(hue(check[0]));
				var c2 = Pokevis.hexToRgb(hue(check[1]));
				var combo = Pokevis.tipColor(c1, c2);
				combo = Pokevis.rgbObjToStr(combo);
			}
			while (p.depth > 1) p = p.parent;
			if (combo != null) {
				c = d3.lab(combo);
			} else {
				c = d3.lab(hue(p.name));
			}
			c.l = luminance(d.sum);
			return c;
		}

		function arcTween(b) {
			var i = d3.interpolate(this._current, b);
			this._current = i(0);
			return function(t) {
				return arc(i(t));
			};
		}

		function updateArc(d) {
			return {depth: d.depth, x: d.x, dx: d.dx};
		}

		d3.select(self.frameElement).style('height', margin.top + margin.bottom + 'px');
	}

	// 
	/*
	Main
	*/
	//
	generationForm.addEventListener('change', _onChangeCreatePieChart);
	createPieChart(dataset);
});